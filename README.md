# Dzabrail Coffee API

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–ø–∏—Ç–∫–∞–º–∏ –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Gin** –∏ **GORM** —Å SQLite.
–ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —á–∏—Ç–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –Ω–∞–ø–∏—Ç–∫–∏, –∞ —Ç–∞–∫–∂–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –Ω–∞–ª–∏—á–∏—é –Ω–∞ —Å–∫–ª–∞–¥–µ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dzabrail/
‚îú‚îÄ‚îÄ controllers/      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ models/           # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (GORM –º–æ–¥–µ–ª–∏)
‚îú‚îÄ‚îÄ connect/          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ main.go           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–æ–≤
‚îú‚îÄ‚îÄ go.mod            # –ú–æ–¥—É–ª–∏ Go
‚îî‚îÄ‚îÄ go.sum            # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –º–æ–¥—É–ª–µ–π
```

---

## üõ†Ô∏è –ú–æ–¥–µ–ª—å Drink

```go
type Drink struct{
    ID uint  `json:"id" gorm:"primarykey"`
    Name string `json:"name"`
    Price int `json:"price"`
    Instock bool  `json:"is_stock" gorm:"column:is_stock"`
    ContainsCoffeine bool `json:"containsCaffeine"`
    Volume int `json:"volume"`
    Description string `json:"description"`
}
```

* `ID` ‚Äì —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–ø–∏—Ç–∫–∞
* `Name` ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–ø–∏—Ç–∫–∞
* `Price` ‚Äì —Ü–µ–Ω–∞
* `Instock` ‚Äì –µ—Å—Ç—å –ª–∏ –≤ –Ω–∞–ª–∏—á–∏–∏ (`true/false`)
* `ContainsCoffeine` ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ñ–µ–∏–Ω (`true/false`)
* `Volume` ‚Äì –æ–±—ä—ë–º –Ω–∞–ø–∏—Ç–∫–∞ –≤ –º–ª
* `Description` ‚Äì –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–ø–∏—Ç–∫–∞

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone <your-repo-url>
cd dzabrail
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
go mod tidy
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
go run main.go
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å `localhost:8080`.

---

## üì° –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥  | URL           | –û–ø–∏—Å–∞–Ω–∏–µ                                               | –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞                                                                                                      |
| ------ | ------------- | ------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| GET    | `/drinks`     | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ (—Ç–æ–ª—å–∫–æ id, name, price) | `[{"id":1,"name":"Latte","price":250}]`                                                                                    |
| GET    | `/drinks/ins` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–∞–ø–∏—Ç–∫–∏ –≤ –Ω–∞–ª–∏—á–∏–∏ (`is_stock=true`)       | `[{"id":1,"name":"Latte","price":250,"is_stock":true, ...}]`                                                               |
| GET    | `/drinks/:id` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–ø–∏—Ç–∫–µ –ø–æ id             | `{"id":1,"name":"Latte","price":250,"is_stock":true,...}`                                                                  |
| POST   | `/drinks`     | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –Ω–∞–ø–∏—Ç–æ–∫                                 | `{"name":"Cappuccino","price":220,"is_stock":true,"containsCaffeine":true,"volume":250,"description":"–° –º–æ–ª–æ—á–Ω–æ–π –ø–µ–Ω–∫–æ–π"}` |
| PATCH  | `/drinks/:id` | –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫                          | `{"name":"Latte","price":260,"is_stock":true}`                                                                             |
| DELETE | `/drinks/:id` | –£–¥–∞–ª–∏—Ç—å –Ω–∞–ø–∏—Ç–æ–∫ –ø–æ id                                  | `{"data": true}`                                                                                                           |

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Postman

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–∞–ø–∏—Ç–∫–∏

```
GET http://localhost:8080/drinks
```

### –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–ø–∏—Ç–∫–∏ –≤ –Ω–∞–ª–∏—á–∏–∏

```
GET http://localhost:8080/drinks/ins
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø–∏—Ç–æ–∫

```
POST http://localhost:8080/drinks
Body (JSON):
{
  "name": "Espresso",
  "price": 180,
  "is_stock": true,
  "containsCaffeine": true,
  "volume": 60,
  "description": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫–æ—Ñ–µ"
}
```

### –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–ø–∏—Ç–æ–∫

```
PATCH http://localhost:8080/drinks/1
Body (JSON):
{
  "price": 200,
  "is_stock": false
}
```

### –£–¥–∞–ª–∏—Ç—å –Ω–∞–ø–∏—Ç–æ–∫

```
DELETE http://localhost:8080/drinks/1
```

---

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

1. **GORM** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É `drinks` –≤ SQLite –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
2. `DrinkPreview` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ –Ω–∞–ø–∏—Ç–∫–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (id, name, price).
3. –í —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ShouldBindBodyWithJSON` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON-–∑–∞–ø—Ä–æ—Å–æ–≤.
4. –ü–æ–ª–µ `Instock` –≤ –º–æ–¥–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–æ–Ω–∫–µ `is_stock` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–µ–≥—É `gorm:"column:is_stock"`.

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

* `github.com/gin-gonic/gin` ‚Äì –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
* `gorm.io/gorm` ‚Äì ORM –¥–ª—è Go
* `github.com/glebarez/sqlite` ‚Äì SQLite –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è GORM
